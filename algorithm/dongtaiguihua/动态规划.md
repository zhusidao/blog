
## 01背包问题
````java

/**
 * 01背包动态规划问题.
 */
public class KnapsacProblem {

    private static List<Integer> knapsacProblem(int[] weight, int[] values, int capacity) {
        // 表
        int[][] table = new int[weight.length][capacity + 1];
        List<Integer> list = new ArrayList<>();
        // 初始化第一个
        for (int h = 0; h <= capacity; h++) {
            if (weight[0] <= h) {
                table[0][h] = values[0];
            }
        }
        for (int i = 1; i < weight.length; i++) {
            for (int j = 0; j <= capacity; j++) {
                // 能装上
                if (weight[i] <= j) {
                    // 装上后 当前物品装上 和 未装上 进行价值比较 取较大值
                    if (table[i - 1][j] <= table[i - 1][j - weight[i]] + values[i]) {
                        table[i][j] = table[i - 1][j - weight[i]] + values[i];
                    } else {
                        table[i][j] = table[i - 1][j];
                    }
                }
            }
        }
        // 能容的最大值
        System.out.println(table[weight.length - 1][capacity]);
        // 输出二维表
        for (int i = 0; i < weight.length; i++) {
            System.out.println(Arrays.toString(table[i]));
        }
        // 找出装了哪些
        for (int k = weight.length - 1; k >= 1; k--) {
            if (table[k][capacity] > table[k - 1][capacity]){
                capacity = capacity - weight[k];
                list.add(k);
            }
        }
        if(capacity>0){
            list.add(0);
        }
        return list;
    }

    public static void main(String[] args) {
        int[] weight = {4, 5, 2, 1, 2};
        int[] values = {50, 40, 60, 20, 30};
        int capacity = 10;
        System.out.println(knapsacProblem(weight, values, capacity));
    }
}
````

## 可重复填充0 1背包问题
````java
public class AllKnapsacProblem {
     
    private int maxVal;
     
    private LinkedList<SimpleEntry<Integer, Integer>> goodsIdCount;
     
    public int getPackageMaxValue(){
        return maxVal;
    }
     
    public LinkedList<SimpleEntry<Integer, Integer>> getGoodsCount(){
        return goodsIdCount;
    }
     
    public AllKnapsacProblem(int[] weight, int[] values, int capacity){
        /*处理最大价值问题============================================*/
 
        if ( weight.length != values.length ){
            throw new IllegalArgumentException();
        }
         
        int goodsLen = weight.length;
         
        /*第0列不使用*/
        int[][] dp = new int[goodsLen][capacity + 1];
         
        /*第0行单独处理*/
        for (int j = weight[0]; j <= capacity; j++){
            dp[0][j] = dp[0][j - weight[0]] + values[0];
        }
         
        for (int i = 1; i < goodsLen; i++){
             
            for (int j = 1; j <= capacity; j++){
                 
                int max1 = dp[i-1][j];
                int max2 = j - weight[i] >= 0 ? values[i] + dp[i][j - weight[i]] : 0;
                 
                dp[i][j] = Math.max(max1, max2);
            }
        }
         
        maxVal = dp[goodsLen-1][capacity];
         
        /*处理物品种类和个数问题问题============================================*/
         
        /*SimpleEntry<Integer, Integer>:key表示物品编号，value表示物品个数*/
        goodsIdCount = new LinkedList<SimpleEntry<Integer, Integer>>();
         
        int i = goodsLen - 1;
        int j = capacity;
         
        SimpleEntry<Integer, Integer> entry = new SimpleEntry<Integer, Integer>(i, 0);
        while (i > 0){
             
            if (dp[i][j] > dp[i-1][j]){
                int n = entry.getValue();
                entry.setValue(n+1);
                j = j - weight[i];
            }
             
            if (dp[i][j] == dp[i-1][j]){
                if (entry.getValue() > 0) {                  
                    goodsIdCount.add(entry);
                }
                i--;
                entry = new SimpleEntry<Integer, Integer>(i, 0);
            }
        }
                 
        /*单独处理第0行*/
        if (j > 0) {
            goodsIdCount.add(new SimpleEntry<Integer, Integer>(0, j/weight[0]));
        }
    }
     
    public static void main(String[] args){
         
        int[] values = {50, 40, 60, 20, 30};
        int[] weight = {4,   5,  2,  1, 2};
        int capacity = 11;
         
        AllKnapsacProblem ap = new AllKnapsacProblem(weight, values, capacity);
         
        System.out.println("背包价值" + ap.getPackageMaxValue());
        for (SimpleEntry<Integer, Integer> entry : ap.goodsIdCount) {
            System.out.printf("物品%d : %d个\n", entry.getKey(), entry.getValue());
        }
         
    }
     
}
````
